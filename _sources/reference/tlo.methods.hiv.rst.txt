tlo.methods.hiv module
======================

.. automodule:: tlo.methods.hiv


.. autoclass:: Hiv

     Bases: :class:`tlo.core.Module`, :class:`tlo.methods.hsi_generic_first_appts.GenericFirstAppointmentsMixin`


     **PARAMETERS:**
     
     .. list-table::
        :widths: 25 25 50
        :header-rows: 1
     
        * - Item
          - Type
          - Description
        * - time_inf
          - DATA_FRAME
          - prob of time since infection for baseline adult pop
        * - art_coverage
          - DATA_FRAME
          - coverage of ART at baseline
        * - treatment_cascade
          - DATA_FRAME
          - spectrum estimates of treatment cascade
        * - beta
          - REAL
          - Transmission rate
        * - unaids_prevalence_adjustment_factor
          - REAL
          - adjustment for baseline age-specific prevalence values to give correct population prevalence
        * - prob_mtct_untreated
          - REAL
          - Probability of mother to child transmission
        * - prob_mtct_treated
          - REAL
          - Probability of mother to child transmission, mother on ART
        * - prob_mtct_incident_preg
          - REAL
          - Probability of mother to child transmission, mother infected during pregnancy
        * - monthly_prob_mtct_bf_untreated
          - REAL
          - Probability of mother to child transmission during breastfeeding
        * - monthly_prob_mtct_bf_treated
          - REAL
          - Probability of mother to child transmission, mother infected during breastfeeding
        * - rr_fsw
          - REAL
          - Relative risk of HIV with female sex work
        * - rr_circumcision
          - REAL
          - Relative risk of HIV with circumcision
        * - rr_rural
          - REAL
          - Relative risk of HIV in rural location
        * - rr_windex_poorer
          - REAL
          - Relative risk of HIV with wealth level poorer
        * - rr_windex_middle
          - REAL
          - Relative risk of HIV with wealth level middle
        * - rr_windex_richer
          - REAL
          - Relative risk of HIV with wealth level richer
        * - rr_windex_richest
          - REAL
          - Relative risk of HIV with wealth level richest
        * - rr_sex_f
          - REAL
          - Relative risk of HIV if female
        * - rr_edlevel_primary
          - REAL
          - Relative risk of HIV with primary education
        * - rr_edlevel_secondary
          - REAL
          - Relative risk of HIV with secondary education
        * - rr_edlevel_higher
          - REAL
          - Relative risk of HIV with higher education
        * - rr_schisto
          - REAL
          - Relative risk of HIV with high intensity S. haematobium infection
        * - rr_behaviour_change
          - REAL
          - Relative risk of HIV with behaviour modification
        * - proportion_reduction_in_risk_of_hiv_aq_if_on_prep
          - REAL
          - Proportion reduction in risk of HIV acquisition if on PrEP. 0 for no efficacy; 1.0 for perfect efficacy.
        * - mean_months_between_aids_and_death
          - REAL
          - Mean number of months (distributed exponentially) for the time between AIDS and AIDS Death
        * - mean_months_between_aids_and_death_infant
          - REAL
          - Mean number of months for the time between AIDS and AIDS Death for infants
        * - infection_to_death_weibull_shape_1519
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 15-19 yo (units: years)
        * - infection_to_death_weibull_shape_2024
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 20-24 yo (units: years)
        * - infection_to_death_weibull_shape_2529
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 25-29 yo (units: years)
        * - infection_to_death_weibull_shape_3034
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 30-34 yo (units: years)
        * - infection_to_death_weibull_shape_3539
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 35-39 yo (units: years)
        * - infection_to_death_weibull_shape_4044
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 40-44 yo (units: years)
        * - infection_to_death_weibull_shape_4549
          - REAL
          - Shape parameter for Weibull describing time between infection and death for 45-49 yo (units: years)
        * - infection_to_death_weibull_scale_1519
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 15-19 yo (units: years)
        * - infection_to_death_weibull_scale_2024
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 20-24 yo (units: years)
        * - infection_to_death_weibull_scale_2529
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 25-29 yo (units: years)
        * - infection_to_death_weibull_scale_3034
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 30-34 yo (units: years)
        * - infection_to_death_weibull_scale_3539
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 35-39 yo (units: years)
        * - infection_to_death_weibull_scale_4044
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 40-44 yo (units: years)
        * - infection_to_death_weibull_scale_4549
          - REAL
          - Scale parameter for Weibull describing time between infection and death for 45-49 yo (units: years)
        * - art_default_to_aids_mean_years
          - REAL
          - Mean years between when a person (any change) stops being on treatment to when AIDS is onset (if the absence of resuming treatment).
        * - prop_delayed_aids_onset
          - REAL
          - Proportion of PLHIV that will have delayed AIDS onset to compensate for AIDS-TB
        * - mean_survival_for_infants_infected_prior_to_birth
          - REAL
          - Exponential rate parameter for mortality in infants who are infected before birth
        * - infection_to_death_infant_infection_after_birth_weibull_scale
          - REAL
          - Weibull scale parameter for mortality in infants who are infected after birth
        * - infection_to_death_infant_infection_after_birth_weibull_shape
          - REAL
          - Weibull shape parameter for mortality in infants who are infected after birth
        * - hiv_testing_rates
          - DATA_FRAME
          - annual rates of testing for children and adults
        * - rr_test_hiv_positive
          - REAL
          - relative likelihood of having HIV test for people with HIV
        * - hiv_testing_rate_adjustment
          - REAL
          - adjustment to current testing rates to account for multiple routes into HIV testing
        * - treatment_initiation_adjustment
          - REAL
          - adjustment to current ART coverage levels to account for defaulters
        * - vs_adjustment
          - REAL
          - adjustment to current viral suppression levels to account for defaulters
        * - prob_hiv_test_at_anc_or_delivery
          - REAL
          - probability of a women having hiv test at anc or following delivery
        * - prob_hiv_test_for_newborn_infant
          - REAL
          - probability of a newborn infant having HIV test pre-discharge
        * - prob_start_art_or_vs
          - REAL
          - Probability that a person will start treatment and be virally suppressed following testing
        * - prob_behav_chg_after_hiv_test
          - REAL
          - Probability that a person will change risk behaviours, if HIV-negative, following testing
        * - prob_prep_for_fsw_after_hiv_test
          - REAL
          - Probability that a FSW will start PrEP, if HIV-negative, following testing
        * - prob_prep_for_agyw
          - REAL
          - Probability that adolescent girls / young women will start PrEP
        * - prob_circ_after_hiv_test
          - REAL
          - Probability that a male will be circumcised, if HIV-negative, following testing
        * - increase_in_prob_circ_2019
          - REAL
          - increase in probability that a male will be circumcised, if HIV-negative, following testingfrom 2019 onwards
        * - prob_circ_for_child_before_2020
          - REAL
          - Probability that a male aging <15 yrs will be circumcised before year 2020
        * - prob_circ_for_child_from_2020
          - REAL
          - Probability that a male aging <15 yrs will be circumcised from year 2020, which is different from before 2020 as children vmmc policy/fund/cases has changed, according to PEPFAR 2020 Country Operational Plan and DHIS2 data
        * - probability_of_being_retained_on_prep_every_3_months
          - REAL
          - Probability that someone who has initiated on prep will attend an appointment and be on prep for the next 3 months, until the next appointment.
        * - probability_of_being_retained_on_art_every_3_months
          - REAL
          - Probability that someone who has initiated on treatment will attend an appointment and be on treatment for next 3 months, until the next appointment.
        * - probability_of_seeking_further_art_appointment_if_drug_not_available
          - REAL
          - Probability that a person who 'should' be on art will seek another appointment (the following day and try for each of the next 7 days) if drugs were not available.
        * - probability_of_seeking_further_art_appointment_if_appointment_not_available
          - REAL
          - Probability that a person who 'should' be on art will seek another appointment if the health-system has not been able to provide them with an appointment
        * - prep_start_year
          - REAL
          - Year from which PrEP is available
        * - ART_age_cutoff_young_child
          - INT
          - Age cutoff for ART regimen for young children
        * - ART_age_cutoff_older_child
          - INT
          - Age cutoff for ART regimen for older children
        * - rel_probability_art_baseline_aids
          - REAL
          - relative probability of person with HIV infection over 10 years being on ART at baseline
        * - aids_tb_treatment_adjustment
          - REAL
          - probability of death if aids and tb, person on treatment for tb
        * - hiv_healthseekingbehaviour_cap
          - INT
          - number of repeat visits assumed for healthcare services
        * - dispensation_period_months
          - REAL
          - length of prescription for ARVs in months, same for all PLHIV
        * - length_of_inpatient_stay_if_terminal
          - LIST
          - length in days of inpatient stay for end-of-life HIV patients: list has two elements [low-bound-inclusive, high-bound-exclusive]
        * - type_of_scaleup
          - STRING
          - argument to determine type scale-up of program which will be implemented, can be 'none', 'target' or 'max'
        * - scaleup_start_year
          - INT
          - the year when the scale-up starts (it will occur on 1st January of that year)
        * - scaleup_parameters
          - DATA_FRAME
          - the parameters and values changed in scenario analysis
        * - interval_for_viral_load_measurement_months
          - REAL
          -  the interval for viral load monitoring in months


     **PROPERTIES:**
     
     .. list-table::
        :widths: 25 25 50
        :header-rows: 1
     
        * - Item
          - Type
          - Description
        * - hv_inf
          - BOOL
          - Is person currently infected with HIV (NB. AIDS status is determined by prescence of the AIDS Symptom.
        * - hv_art
          - CATEGORICAL
          - ART status of person, whether on ART or not; and whether viral load is suppressed or not if on ART..  Possible values are: [not, on_VL_suppressed, on_not_VL_suppressed, ]
        * - hv_on_cotrimoxazole
          - BOOL
          - Whether the person is currently taking and receiving a malaria-protective effect from cotrimoxazole
        * - hv_is_on_prep
          - BOOL
          - Whether the person is currently taking and receiving a protective effect from Pre-Exposure Prophylaxis
        * - hv_behaviour_change
          - BOOL
          - Has this person been exposed to HIV prevention counselling following a negative HIV test result
        * - hv_diagnosed
          - BOOL
          - Knows that they are HIV+: i.e. is HIV+ and tested as HIV+
        * - hv_number_tests
          - INT
          - Number of HIV tests ever taken
        * - hv_last_test_date
          - DATE
          - Date of last HIV test
        * - hv_date_inf
          - DATE
          - Date infected with HIV
        * - hv_date_treated
          - DATE
          - date hiv treatment started
        * - hv_date_last_ART
          - DATE
          - date of last ART dispensation



     **Class attributes:**

     ADDITIONAL_DEPENDENCIES : {'NewbornOutcomes', 'Tb'}

     CAUSES_OF_DEATH : {'AIDS_non_TB': <tlo.methods.causes.Cause object at 0x30ce42550>, 'AIDS_TB': <tlo.methods.causes.Cause object at 0x30ce43410>}

     CAUSES_OF_DISABILITY : {'HIV': <tlo.methods.causes.Cause object at 0x30ce43310>}

     INIT_DEPENDENCIES : {'SymptomManager', 'HealthSystem', 'Lifestyle', 'Demography'}

     METADATA : {<Metadata.USES_HEALTHBURDEN: 4>, <Metadata.DISEASE_MODULE: 1>, <Metadata.USES_SYMPTOMMANAGER: 2>, <Metadata.USES_HEALTHSYSTEM: 3>}

     OPTIONAL_INIT_DEPENDENCIES : {'HealthBurden'}

     __annotations__ : {}

     **Functions (defined or overridden in class Hiv):**

     .. automethod:: __init__

     .. automethod:: read_parameters

     .. automethod:: pre_initialise_population

     .. automethod:: _build_linear_models

     .. automethod:: initialise_population

     .. automethod:: initialise_baseline_prevalence

     .. automethod:: initialise_baseline_art

     .. automethod:: initialise_baseline_tested

     .. automethod:: initialise_simulation

     .. automethod:: update_parameters_for_program_scaleup

     .. automethod:: on_birth

     .. automethod:: report_daly_values

     .. automethod:: mtct_during_breastfeeding

     .. automethod:: do_new_infection

     .. automethod:: sample_time_from_infection_to_aids_given_parameters

     .. automethod:: get_time_from_infection_to_aids_distribution_parameters

     .. automethod:: get_time_from_aids_to_death

     .. automethod:: do_when_hiv_diagnosed

     .. automethod:: prob_art_start_after_test

     .. automethod:: prob_viral_suppression

     .. automethod:: stops_treatment

     .. automethod:: per_capita_testing_rate

     .. automethod:: decide_whether_hiv_test_for_mother

     .. automethod:: decide_whether_hiv_test_for_infant

     .. automethod:: check_config_of_properties

     .. automethod:: do_at_generic_first_appt








.. autoclass:: HivRegularPollingEvent

     Bases: :class:`tlo.events.RegularEvent`, :class:`tlo.events.Event`, :class:`tlo.events.PopulationScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HivRegularPollingEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivInfectionEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class HivInfectionEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivInfectionDuringBreastFeedingEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class HivInfectionDuringBreastFeedingEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivAidsOnsetEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class HivAidsOnsetEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivAidsDeathEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class HivAidsDeathEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivAidsTbDeathEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class HivAidsTbDeathEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: Hiv_DecisionToContinueOnPrEP

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class Hiv_DecisionToContinueOnPrEP):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: Hiv_DecisionToContinueTreatment

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.IndividualScopeEventMixin`


     **Functions (defined or overridden in class Hiv_DecisionToContinueTreatment):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivScaleUpEvent

     Bases: :class:`tlo.events.Event`, :class:`tlo.events.PopulationScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HivScaleUpEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HSI_Hiv_TestAndRefer

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_TestAndRefer):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HSI_Hiv_Circ

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_Circ):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HSI_Hiv_StartInfantProphylaxis

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_StartInfantProphylaxis):**

     .. automethod:: __init__

     .. automethod:: apply

     .. automethod:: never_ran








.. autoclass:: HSI_Hiv_StartOrContinueOnPrep

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_StartOrContinueOnPrep):**

     .. automethod:: __init__

     .. automethod:: apply

     .. automethod:: never_ran








.. autoclass:: HSI_Hiv_StartOrContinueTreatment

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     EXPECTED_APPT_FOOTPRINT : <property object at 0x30cc7d350>

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_StartOrContinueTreatment):**

     .. automethod:: __init__

     .. automethod:: apply

     .. automethod:: do_at_initiation

     .. automethod:: do_at_continuation

     .. automethod:: determine_vl_status

     .. automethod:: get_drugs

     .. automethod:: consider_tb

     .. automethod:: never_ran








.. autoclass:: HSI_Hiv_EndOfLifeCare

     Bases: :class:`tlo.methods.hsi_event.HSI_Event`, :class:`tlo.events.IndividualScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HSI_Hiv_EndOfLifeCare):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivLoggingEvent

     Bases: :class:`tlo.events.RegularEvent`, :class:`tlo.events.Event`, :class:`tlo.events.PopulationScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HivLoggingEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: HivCheckPropertiesEvent

     Bases: :class:`tlo.events.RegularEvent`, :class:`tlo.events.Event`, :class:`tlo.events.PopulationScopeEventMixin`



     **Class attributes:**

     __annotations__ : {}

     **Functions (defined or overridden in class HivCheckPropertiesEvent):**

     .. automethod:: __init__

     .. automethod:: apply








.. autoclass:: DummyHivModule

     Bases: :class:`tlo.core.Module`


     **PROPERTIES:**
     
     .. list-table::
        :widths: 25 25 50
        :header-rows: 1
     
        * - Item
          - Type
          - Description
        * - hv_inf
          - BOOL
          - DUMMY version of the property for hv_inf
        * - hv_art
          - CATEGORICAL
          - DUMMY version of the property for hv_art..  Possible values are: [not, on_VL_suppressed, on_not_VL_suppressed, ]



     **Class attributes:**

     ALTERNATIVE_TO : {'Hiv'}

     INIT_DEPENDENCIES : {'Demography'}

     __annotations__ : {}

     **Functions (defined or overridden in class DummyHivModule):**

     .. automethod:: __init__

     .. automethod:: read_parameters

     .. automethod:: initialise_population

     .. automethod:: initialise_simulation

     .. automethod:: on_birth





