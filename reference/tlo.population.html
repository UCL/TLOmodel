

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tlo.population module &mdash; TLOmodel 0.1.dev2456+g2221089.d20241007 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=7ab3649f" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=6ea10ece" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=363ca9bd"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tlo.progressbar module" href="tlo.progressbar.html" />
    <link rel="prev" title="tlo.lm module" href="tlo.lm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            TLOmodel
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aims.html">Aims &amp; Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writeups.html">Model Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_sources.html">Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../azure_batch.html">Using Azure Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resource files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning.html">Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TLOmodel</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="tlo.html">tlo package</a></li>
      <li class="breadcrumb-item active">tlo.population module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/tlo.population.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-tlo.population">
<span id="tlo-population-module"></span><h1>tlo.population module<a class="headerlink" href="#module-tlo.population" title="Link to this heading"></a></h1>
<p>Types for representing a properties of a population of individuals.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tlo.population.IndividualProperties">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IndividualProperties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">population_dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">person_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/population.html#IndividualProperties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.IndividualProperties" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Memoized view of population dataframe row that is optionally read-only.</p>
<p>This class should not be instantiated directly but instead the
<a class="reference internal" href="#tlo.population.Population.individual_properties" title="tlo.population.Population.individual_properties"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Population.individual_properties()</span></code></a> context manager method used to create
instances for a given population.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tlo.population.IndividualProperties.synchronize_updates_to_dataframe">
<span class="sig-name descname"><span class="pre">synchronize_updates_to_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/tlo/population.html#IndividualProperties.synchronize_updates_to_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.IndividualProperties.synchronize_updates_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Synchronize values for any updated properties to population dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.population.IndividualProperties.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/tlo/population.html#IndividualProperties.finalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.IndividualProperties.finalize" title="Link to this definition"></a></dt>
<dd><p>Synchronize updates to population dataframe and prevent further access.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tlo.population.Population">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="tlo.core.html#tlo.core.Property" title="tlo.core.Property"><span class="pre">Property</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/population.html#Population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.Population" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A complete population of individuals.</p>
<p>Useful properties of a population:</p>
<dl class="simple">
<dt><cite>props</cite></dt><dd><p>A Pandas DataFrame with the properties of all individuals as columns.</p>
</dd>
</dl>
<p>Create a new population.</p>
<p>This will create the required the population dataframe and initialise
individual’s properties as dataframe columns with ‘empty’ values. The simulation
will then call disease modules to fill in suitable starting values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> – Dictionary defining properties (columns) to initialise
population dataframe with, keyed by property name and with values
<code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code> instances defining the property type.</p></li>
<li><p><strong>initial_size</strong> – The initial population size.</p></li>
<li><p><strong>append_size</strong> – How many rows to append when growing the population
dataframe (optional).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.population.Population.initial_size">
<span class="sig-name descname"><span class="pre">initial_size</span></span><a class="headerlink" href="#tlo.population.Population.initial_size" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.population.Population.props">
<span class="sig-name descname"><span class="pre">props</span></span><a class="headerlink" href="#tlo.population.Population.props" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.population.Population.new_row">
<span class="sig-name descname"><span class="pre">new_row</span></span><a class="headerlink" href="#tlo.population.Population.new_row" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.population.Population.new_rows">
<span class="sig-name descname"><span class="pre">new_rows</span></span><a class="headerlink" href="#tlo.population.Population.new_rows" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.population.Population.next_person_id">
<span class="sig-name descname"><span class="pre">next_person_id</span></span><a class="headerlink" href="#tlo.population.Population.next_person_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.population.Population.do_birth">
<span class="sig-name descname"><span class="pre">do_birth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/population.html#Population.do_birth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.Population.do_birth" title="Link to this definition"></a></dt>
<dd><p>Create a new person within the population.</p>
<p>TODO: This will over-allocate capacity in the population dataframe for efficiency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>id of the new person</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.population.Population.make_test_property">
<span class="sig-name descname"><span class="pre">make_test_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/population.html#Population.make_test_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.Population.make_test_property" title="Link to this definition"></a></dt>
<dd><p>Create a new property for test purposes.</p>
<p>When testing a particular method in isolation, it’s helpful to be able to define
the properties it reads that would normally be provided by other methods. That is
what this is for. It adds an extra column into the property DataFrame for this
population, set up with the appropriate type.</p>
<p>This should only be used in tests, not in your actual module code!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the property to add</p></li>
<li><p><strong>type</strong> – a member of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Types</span></code> enumeration giving the type of
the property</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.population.Population.individual_properties">
<span class="sig-name descname"><span class="pre">individual_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">person_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#tlo.population.IndividualProperties" title="tlo.population.IndividualProperties"><span class="pre">IndividualProperties</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/tlo/population.html#Population.individual_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.population.Population.individual_properties" title="Link to this definition"></a></dt>
<dd><p>Context manager for a memoized view of a row of the population dataframe.</p>
<p>The view returned represents the properties of an individual with properties
accessible by indexing using string column names, and lazily read-on demand
from the population dataframe.</p>
<p>Optionally the view returned may allow updating properties as well as reading.
In this case on exit from the <code class="docutils literal notranslate"><span class="pre">with</span></code> block in which the context is entered,
any updates to the individual properties will be written back to the population
dataframe.</p>
<p>Once the <code class="docutils literal notranslate"><span class="pre">with</span></code> block in which the context is entered has been exited the view
returned will raise an error on any subsequent attempts at reading or writing
properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>person_id</strong> – Row index of the dataframe row to extract.</p></li>
<li><p><strong>read_only</strong> – Whether view is read-only or allows updating properties. If
<code class="docutils literal notranslate"><span class="pre">True</span></code> <a class="reference internal" href="#tlo.population.IndividualProperties.synchronize_updates_to_dataframe" title="tlo.population.IndividualProperties.synchronize_updates_to_dataframe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IndividualProperties.synchronize_updates_to_dataframe()</span></code></a>
method needs to be called for any updates to be written back to population
dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Object allowing memoized access to an individual’s properties.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tlo.lm.html" class="btn btn-neutral float-left" title="tlo.lm module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tlo.progressbar.html" class="btn btn-neutral float-right" title="tlo.progressbar module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 07, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>