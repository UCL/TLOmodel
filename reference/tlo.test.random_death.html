

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>tlo.test.random_death module &mdash; TLOmodel 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tlo.cli module" href="tlo.cli.html" />
    <link rel="prev" title="tlo.test.random_birth module" href="tlo.test.random_birth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> TLOmodel
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aims.html">Aims &amp; Objectives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writeups.html">Model Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../azure_batch.html">Using Azure Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TLOmodel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
          <li><a href="tlo.html">tlo package</a> &raquo;</li>
        
          <li><a href="tlo.test.html">tlo.test package</a> &raquo;</li>
        
      <li>tlo.test.random_death module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/tlo.test.random_death.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tlo.test.random_death">
<span id="tlo-test-random-death-module"></span><h1>tlo.test.random_death module<a class="headerlink" href="#module-tlo.test.random_death" title="Permalink to this headline">¶</a></h1>
<p>A simple test module for demonstration purposes.</p>
<p>It polls the population each month, randomly killing people with a fixed probability.
The probability may be set as a module parameter.</p>
<p>This is thus mainly useful for demonstrating how to write a disease module, without
getting distracted by modelling details.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">RandomDeath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tlo.core.html#tlo.core.Module" title="tlo.core.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">tlo.core.Module</span></code></a></p>
<p>Randomly kill individuals with fixed probability.</p>
<p>All disease modules need to be implemented as a class inheriting from Module.
They need to provide several methods which will be called by the simulation
framework:
* <cite>read_parameters(data_folder)</cite>
* <cite>initialise_population(population)</cite>
* <cite>initialise_simulation(sim)</cite>
* <cite>on_birth(mother, child)</cite></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.PARAMETERS">
<span class="sig-name descname"><span class="pre">PARAMETERS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'death_probability':</span> <span class="pre">REAL</span> <span class="pre">===</span> <span class="pre">Fixed</span> <span class="pre">probability</span> <span class="pre">of</span> <span class="pre">death</span> <span class="pre">each</span> <span class="pre">month}</span></em><a class="headerlink" href="#tlo.test.random_death.RandomDeath.PARAMETERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.PROPERTIES">
<span class="sig-name descname"><span class="pre">PROPERTIES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'date_of_death':</span> <span class="pre">DATE</span> <span class="pre">===</span> <span class="pre">When</span> <span class="pre">the</span> <span class="pre">individual</span> <span class="pre">died</span> <span class="pre">(if</span> <span class="pre">they</span> <span class="pre">have),</span> <span class="pre">'is_alive':</span> <span class="pre">BOOL</span> <span class="pre">===</span> <span class="pre">Whether</span> <span class="pre">each</span> <span class="pre">individual</span> <span class="pre">is</span> <span class="pre">currently</span> <span class="pre">alive}</span></em><a class="headerlink" href="#tlo.test.random_death.RandomDeath.PROPERTIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.read_parameters">
<span class="sig-name descname"><span class="pre">read_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeath.read_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeath.read_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Read parameter values from file, if required.</p>
<p>Here we do nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_folder</strong> – path of a folder supplied to the Simulation containing data files.
Typically modules would read a particular file within here.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.initialise_population">
<span class="sig-name descname"><span class="pre">initialise_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">population</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeath.initialise_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeath.initialise_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Set our property values for the initial population.</p>
<p>This method is called by the simulation when creating the initial population, and is
responsible for assigning initial values, for every individual, of those properties
‘owned’ by this module, i.e. those declared in the PROPERTIES dictionary above.</p>
<p>TODO: We probably need to declare somehow which properties we ‘read’ here, so the
simulation knows what order to initialise modules in!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>population</strong> – the population of individuals</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.initialise_simulation">
<span class="sig-name descname"><span class="pre">initialise_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeath.initialise_simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeath.initialise_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ready for simulation start.</p>
<p>This method is called just before the main simulation loop begins, and after all
modules have read their parameters and the initial population has been created.
It is a good place to add initial events to the event queue.</p>
<p>Here we add our monthly event to poll the population for deaths.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.on_birth">
<span class="sig-name descname"><span class="pre">on_birth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mother_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeath.on_birth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeath.on_birth" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise our properties for a newborn individual.</p>
<p>This is called by the simulation whenever a new person is born.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mother_id</strong> – the mother for this child</p></li>
<li><p><strong>child_id</strong> – the new child</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeath.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#tlo.test.random_death.RandomDeath.parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeathEvent">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">RandomDeathEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">death_probability</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeathEvent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeathEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tlo.events.html#tlo.events.RegularEvent" title="tlo.events.RegularEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">tlo.events.RegularEvent</span></code></a>, <a class="reference internal" href="tlo.events.html#tlo.events.PopulationScopeEventMixin" title="tlo.events.PopulationScopeEventMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">tlo.events.PopulationScopeEventMixin</span></code></a></p>
<p>The regular event that actually kills people.</p>
<p>Regular events automatically reschedule themselves at a fixed frequency,
and thus implement discrete timestep type behaviour. The frequency is
specified when calling the base class constructor in our __init__ method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tlo.test.random_death.RandomDeathEvent.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">population</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tlo/test/random_death.html#RandomDeathEvent.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tlo.test.random_death.RandomDeathEvent.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply this event to the population.</p>
<p>For efficiency, we use pandas operations to scan the entire population
and kill individuals at random.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>population</strong> – the current population</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tlo.cli.html" class="btn btn-neutral float-right" title="tlo.cli module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="tlo.test.random_birth.html" class="btn btn-neutral float-left" title="tlo.test.random_birth module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on May 27, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>